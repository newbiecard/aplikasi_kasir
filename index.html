<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasir Nasi Daun Jeruk</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="assets/logo.png">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo-container">
                <img src="assets/logo.png" alt="Logo Nasi Daun Jeruk" class="logo">
                <h1>Kasir Nasi Daun Jeruk</h1>
            </div>
            <div class="header-actions">
                <button id="viewBackup" class="btn-secondary">
                    <i class="fas fa-history"></i> Backup Transaksi
                </button>
                <button id="clearCart" class="btn-danger">
                    <i class="fas fa-trash"></i> Reset Transaksi
                </button>
            </div>
        </div>
    </header>

    <main class="container main-container">
        <!-- Menu Section -->
        <section class="menu-section">
            <h2><i class="fas fa-utensils"></i> Menu Nasi Daun Jeruk</h2>
            <div class="menu-grid">
                <!-- Nasi Daun Jeruk Biasa -->
                <div class="menu-card" data-id="1" data-price="10000">
                    <div class="menu-header">
                        <h3>Nasi Daun Jeruk Biasa</h3>
                        <span class="price">Rp10.000</span>
                    </div>
                    <p class="menu-desc">Pilih 1 topping:</p>
                    <div class="topping-options">
                        <label class="radio-label">
                            <input type="radio" name="topping_1" value="Kulit Ayam Crispy" checked>
                            Kulit Ayam Crispy
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="topping_1" value="Ayam Suwir">
                            Ayam Suwir
                        </label>
                    </div>
                    <button class="btn-add-to-cart">
                        <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                    </button>
                </div>

                <!-- Paket Lengkap -->
                <div class="menu-card" data-id="2" data-price="12000">
                    <div class="menu-header">
                        <h3>Paket Lengkap</h3>
                        <span class="price">Rp12.000</span>
                    </div>
                    <p class="menu-desc">Nasi + Kulit Ayam Crispy + Ayam Suwir</p>
                    <button class="btn-add-to-cart">
                        <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                    </button>
                </div>

                <!-- Paket Hemat -->
                <div class="menu-card" data-id="3" data-price="13000">
                    <div class="menu-header">
                        <h3>Paket Hemat</h3>
                        <span class="price">Rp13.000</span>
                    </div>
                    <p class="menu-desc">Nasi Daun Jeruk + 1 Toping + Es Jeruk Peras</p>
                    <button class="btn-add-to-cart">
                        <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                    </button>
                </div>

                <!-- Es Jeruk Peras -->
                <div class="menu-card" data-id="4" data-price="5000">
                    <div class="menu-header">
                        <h3>Es Jeruk Peras</h3>
                        <span class="price">Rp5.000</span>
                    </div>
                    <p class="menu-desc">Minuman segar jeruk peras</p>
                    <button class="btn-add-to-cart">
                        <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                    </button>
                </div>
            </div>
        </section>

        <!-- Cart & Payment Section -->
        <div class="cart-payment-container">
            <!-- Cart Section -->
            <section class="cart-section">
                <h2><i class="fas fa-shopping-cart"></i> Keranjang Pesanan</h2>
                <div class="cart-items" id="cartItems">
                    <div class="empty-cart">
                        <i class="fas fa-shopping-basket"></i>
                        <p>Keranjang masih kosong</p>
                    </div>
                </div>
                <div class="cart-summary">
                    <div class="summary-row">
                        <span>Total Item:</span>
                        <span id="totalItems">0</span>
                    </div>
                    <div class="summary-row">
                        <span>Total Harga:</span>
                        <span id="totalPrice" class="total-price">Rp0</span>
                    </div>
                </div>
            </section>

            <!-- Payment Section -->
            <section class="payment-section">
                <h2><i class="fas fa-credit-card"></i> Pembayaran</h2>
                
                <!-- Payment Method Selection -->
                <div class="payment-method">
                    <h3>Pilih Metode Pembayaran:</h3>
                    <div class="method-buttons">
                        <button id="cashBtn" class="method-btn active">
                            <i class="fas fa-money-bill-wave"></i> Tunai
                        </button>
                        <button id="qrisBtn" class="method-btn">
                            <i class="fas fa-qrcode"></i> QRIS
                        </button>
                    </div>
                </div>

                <!-- Cash Payment -->
                <div id="cashPayment" class="payment-form active">
                    <div class="input-group">
                        <label>Uang yang Dibayarkan:</label>
                        <input type="number" id="cashAmount" placeholder="Masukkan jumlah uang" min="0">
                    </div>
                    <div class="calculation-result">
                        <div class="result-row">
                            <span>Total:</span>
                            <span id="cashTotal">Rp0</span>
                        </div>
                        <div class="result-row">
                            <span>Uang Bayar:</span>
                            <span id="cashPaid">Rp0</span>
                        </div>
                        <div class="result-row highlight">
                            <span>Kembalian:</span>
                            <span id="cashChange">Rp0</span>
                        </div>
                    </div>
                    <button id="processCash" class="btn-success" disabled>
                        <i class="fas fa-check-circle"></i> Proses Transaksi Tunai
                    </button>
                    <p class="validation-message" id="cashValidation"></p>
                </div>

                <!-- QRIS Payment -->
                <div id="qrisPayment" class="payment-form">
                    <div class="qris-info">
                        <h3>Scan QRIS untuk Bayar:</h3>
                        <div class="qris-logos">
                            <img src="assets/gopay-logo.png" alt="GoPay" class="qris-logo">
                            <img src="assets/dana-logo.png" alt="DANA" class="qris-logo">
                        </div>
                        <div class="qris-container">
                            <canvas id="qrisCanvas"></canvas>
                        </div>
                        <p class="qris-instruction">
                            <i class="fas fa-info-circle"></i>
                            Scan QR di atas dengan aplikasi GoPay, DANA, atau bank Anda
                        </p>
                        <div class="qris-actions">
                            <button id="completeQris" class="btn-success">
                                <i class="fas fa-check"></i> Pembayaran Selesai
                            </button>
                            <button id="cancelQris" class="btn-danger">
                                <i class="fas fa-times"></i> Batalkan Pembayaran
                            </button>
                        </div>
                        <div class="qris-status" id="qrisStatus">
                            <i class="fas fa-clock"></i> Menunggu pembayaran...
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Transaction Receipt Modal -->
    <div id="receiptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-receipt"></i> Struk Transaksi</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="receiptContent"></div>
            </div>
            <div class="modal-footer">
                <button id="printReceipt" class="btn-primary">
                    <i class="fas fa-print"></i> Cetak Struk
                </button>
                <button id="closeReceipt" class="btn-secondary">
                    <i class="fas fa-times"></i> Tutup
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content confirm-modal">
            <h3 id="confirmMessage"></h3>
            <div class="confirm-buttons">
                <button id="confirmYes" class="btn-danger">Ya, Hapus</button>
                <button id="confirmNo" class="btn-secondary">Batal</button>
            </div>
        </div>
    </div>

    <!-- Success Notification -->
    <div id="successToast" class="toast success">
        <i class="fas fa-check-circle"></i>
        <span id="successMessage">Transaksi berhasil!</span>
    </div>

    <script src="qris-simulator.js"></script>
    <script src="app.js"></script>
</body>
</html>