<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ”¥ ZETA POS - Sistem Kasir Brutal</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’€</text></svg>">
</head>
<body>
    <div class="container">
        <!-- HEADER BRUTAL -->
        <header class="zeta-header">
            <div class="header-content">
                <h1><i class="fas fa-skull-crossbones"></i> ZETA POS</h1>
                <p class="subtitle">Sistem Kasir Tanpa Ampun â€¢ Data Langsung ke Sheet</p>
                <div class="status-indicator">
                    <span id="connection-status" class="status-offline">
                        <i class="fas fa-circle"></i> OFFLINE MODE
                    </span>
                    <button id="btn-test" class="btn-small">
                        <i class="fas fa-bolt"></i> TEST CONNECTION
                    </button>
                    <a href="backup-viewer.html" target="_blank" class="btn-small backup-btn">
                        <i class="fas fa-database"></i> VIEW BACKUPS
                    </a>
                </div>
            </div>
        </header>

        <div class="main-wrapper">
            <!-- SIDEBAR: MENU SELECTION -->
            <aside class="sidebar">
                <div class="menu-section">
                    <h2><i class="fas fa-utensils"></i> MENU NASI</h2>
                    
                    <div class="menu-card" data-id="nasi-dasar" data-price="10000">
                        <div class="menu-header">
                            <h3>NASI DAUN JERUK</h3>
                            <span class="price">Rp10.000</span>
                        </div>
                        <p class="menu-desc">Paket dasar tanpa topping</p>
                        <button class="btn-add" data-id="nasi-dasar">
                            <i class="fas fa-plus"></i> TAMBAH
                        </button>
                    </div>
                    
                    <div class="menu-card highlight" data-id="paket-lengkap" data-price="12000">
                        <div class="menu-header">
                            <h3>PAKET LENGKAP</h3>
                            <span class="price">Rp12.000</span>
                        </div>
                        <p class="menu-desc">Nasi + Ayam Suwir + Kulit Krispi</p>
                        <button class="btn-add" data-id="paket-lengkap">
                            <i class="fas fa-crown"></i> PAKET FULL
                        </button>
                    </div>
                    
                    <h2 class="section-title"><i class="fas fa-glass-whiskey"></i> MINUMAN</h2>
                    
                    <div class="menu-card" data-id="es-jeruk" data-price="5000">
                        <div class="menu-header">
                            <h3>ES JERUK PERAS</h3>
                            <span class="price">Rp5.000</span>
                        </div>
                        <p class="menu-desc">Jeruk peras asli dengan es</p>
                        <button class="btn-add" data-id="es-jeruk">
                            <i class="fas fa-plus"></i> TAMBAH
                        </button>
                    </div>
                </div>

                <!-- QUICK ACTIONS -->
                <div class="quick-actions">
                    <button id="btn-reset-all" class="btn-action danger">
                        <i class="fas fa-trash-alt"></i> RESET SEMUA
                    </button>
                    <button id="btn-export" class="btn-action secondary">
                        <i class="fas fa-file-export"></i> EXPORT DATA
                    </button>
                </div>
            </aside>

            <!-- MAIN: ORDER & PAYMENT -->
            <main class="main-content">
                <!-- ORDER LIST -->
                <section class="order-section">
                    <div class="section-header">
                        <h2><i class="fas fa-list-alt"></i> DAFTAR PESANAN</h2>
                        <div class="order-count" id="order-count">0 ITEM</div>
                    </div>
                    
                    <div class="order-table-container">
                        <table class="order-table">
                            <thead>
                                <tr>
                                    <th width="40%">ITEM</th>
                                    <th width="15%">QTY</th>
                                    <th width="20%">HARGA</th>
                                    <th width="20%">SUBTOTAL</th>
                                    <th width="5%"></th>
                                </tr>
                            </thead>
                            <tbody id="order-items">
                                <!-- Items will appear here -->
                                <tr class="empty-state">
                                    <td colspan="5">
                                        <i class="fas fa-shopping-cart"></i>
                                        <p>Belum ada pesanan</p>
                                        <small>Pilih menu dari sidebar</small>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- QUANTITY CONTROL -->
                    <div class="quantity-control">
                        <h3><i class="fas fa-sliders-h"></i> JUMLAH PESANAN</h3>
                        <div class="qty-buttons">
                            <button class="qty-btn" data-action="decrease">-</button>
                            <input type="number" id="qty-input" value="1" min="1" max="99">
                            <button class="qty-btn" data-action="increase">+</button>
                            <button id="btn-update-qty" class="btn-small">
                                <i class="fas fa-sync-alt"></i> UPDATE
                            </button>
                        </div>
                        <p class="hint">Pilih item di atas, lalu atur jumlah</p>
                    </div>
                </section>

                <!-- PAYMENT SECTION -->
                <section class="payment-section">
                    <div class="payment-card">
                        <h2><i class="fas fa-calculator"></i> PEMBAYARAN</h2>
                        
                        <div class="payment-summary">
                            <div class="summary-row">
                                <span>Total Pesanan:</span>
                                <span id="total-order">Rp0</span>
                            </div>
                            
                            <div class="input-group">
                                <label for="cash-input">
                                    <i class="fas fa-money-bill-wave"></i> UANG DITERIMA
                                </label>
                                <div class="cash-input-wrapper">
                                    <span class="currency">Rp</span>
                                    <input type="number" id="cash-input" placeholder="0" min="0">
                                </div>
                            </div>
                            
                            <div class="summary-row highlight">
                                <span>KEMBALIAN:</span>
                                <span id="change-amount">Rp0</span>
                            </div>
                            
                            <div class="validation-message" id="validation-msg">
                                <!-- Validation messages appear here -->
                            </div>
                        </div>

                        <!-- ACTION BUTTONS -->
                        <div class="payment-actions">
                            <button id="btn-calculate" class="btn-action primary">
                                <i class="fas fa-calculator"></i> HITUNG KEMBALIAN
                            </button>
                            <button id="btn-process" class="btn-action success" disabled>
                                <i class="fas fa-paper-plane"></i> PROSES TRANSAKSI
                            </button>
                        </div>
                        
                        <!-- TRANSACTION LOG -->
                        <div class="transaction-log">
                            <h3><i class="fas fa-history"></i> LOG TRANSAKSI</h3>
                            <div class="log-content" id="transaction-log">
                                <div class="log-entry">
                                    <span class="log-time">12:00:00</span>
                                    <span class="log-message">Sistem siap. Pilih menu untuk mulai.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- CONFIG MODAL -->
        <div id="config-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fas fa-cog"></i> KONFIGURASI APPS SCRIPT</h2>
                    <button class="btn-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="script-url">
                            <i class="fas fa-link"></i> URL APPS SCRIPT
                        </label>
                        <input type="text" id="script-url" 
                               placeholder="https://script.google.com/macros/s/.../exec">
                        <small class="form-hint">
                            Dapatkan dari: Deploy â†’ Manage deployments â†’ Copy URL
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label for="sheet-id">
                            <i class="fas fa-table"></i> SPREADSHEET ID
                        </label>
                        <input type="text" id="sheet-id" 
                               placeholder="1xYzAbCdEfGhIjKlMnOpQrStUvWxYz123456789">
                        <small class="form-hint">
                            Dari URL spreadsheet: /d/[ID_HERE]/edit
                        </small>
                    </div>
                    
                    <div class="test-buttons">
                        <button id="btn-test-config" class="btn-action">
                            <i class="fas fa-vial"></i> TEST KONEKSI
                        </button>
                        <button id="btn-save-config" class="btn-action success">
                            <i class="fas fa-save"></i> SIMPAN KONFIG
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="zeta-footer">
            <div class="footer-content">
                <div class="footer-info">
                    <p>
                        <strong>ZETA POS v2.0</strong> | 
                        <span id="backup-count">0</span> backup lokal | 
                        <span id="total-transactions">0</span> transaksi
                    </p>
                    <p class="footer-warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        DATA TIDAK DIAMANKAN â€¢ TRANSAKSI FINAL â€¢ NO REFUND
                    </p>
                </div>
                <div class="footer-actions">
                    <button id="btn-open-config" class="btn-small">
                        <i class="fas fa-wrench"></i> KONFIG
                    </button>
                    <button id="btn-clear-backup" class="btn-small danger">
                        <i class="fas fa-eraser"></i> HAPUS BACKUP
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- LOADING OVERLAY -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p id="loading-text">Memproses transaksi...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>